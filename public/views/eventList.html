<div class="panel panel-default row" ng-controller="eventListCtrl" ng-hide="data.error">
	<div class="text-center" ng-if="auth.profile">
		<h3>Welcome {{auth.profile.nickname}}!</h3>
	</div>
	<div class="col-xs-1">
	</div>
	<div class="col-xs-10">
		<ul class="nav nav-tabs" role="tablist">
		  	<li class="active"><a data-target="#events" role="tab" data-toggle="tab">Recommended Events</a></li>
		  	<li><a data-target="#myevents" role="tab" data-toggle="tab">My Events</a></li>
		</ul>
		<div class="tab-content">
			<div class="tab-pane active" id="events">
				<div class="panel panel-default" ng-repeat="item in data.events | filter:categoryFilterFn | range:selectedPage:pageSize">
					<div class="panel-heading">
						<a ng-click="viewDetails(item)"><h4><strong>{{item.name.text}}</h4></strong></a>
					</div>
					<div class="panel-body">
					    <p ng-if="item.venue">Location: {{item.venue}}</p>
					    <p ng-if="item.category">Category: {{item.category}}</p>
					</div>
				</div>
				<div class="pull-right">
					<ul class="pagination">
					  	<li ng-repeat="page in data.events | filter:categoryFilterFn | pageCount:pageSize" 
					  		ng-class="getPageClass($index + 1)">
					  		<a ng-click="selectPage($index + 1)">
								{{$index + 1}}
					  		</a>
					  	</li>
					</ul>
				</div>
			</div>
			<div class="tab-pane" id="myevents">
				<div class="text-center" ng-if="!auth.isAuthenticated">
					<h4>Seems you are not logged in. Please login first before viewing your events!</h4>
					<a class="btn btn-primary" ng-click="login()">Log in</a>
				</div>
				<div class="panel panel-default" ng-repeat="item in data.myevents | filter:categoryFilterFn | range:selectedPage:pageSize">
					<div class="panel-heading">
						<a ng-click="joinEvents(item)"><h4><strong>{{item.name.text}}</h4></strong></a>
					</div>
					<div class="panel-body">
					    <p ng-if="item.venue">Location: {{item.venue}}</p>
					    <p ng-if="item.category">Category: {{item.category}}</p>
					</div>
				</div>
				<div class="pull-right">
					<ul class="pagination">
					  	<li ng-repeat="page in data.myevents | filter:categoryFilterFn | pageCount:pageSize" 
					  		ng-class="getPageClass($index + 1)">
					  		<a ng-click="selectPage($index + 1)">
								{{$index + 1}}
					  		</a>
					  	</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	
</div>